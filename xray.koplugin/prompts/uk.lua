return {
    -- System instruction
    system_instruction = "Ти експерт з літературної критики. Твоя відповідь повинна бути ТІЛЬКИ у валідному JSON форматі. Не використовуй Markdown, вступні речення або додаткові пояснення. Відповідай ТІЛЬКИ українською мовою.",
    
    -- Main prompt (Full book analysis)
    main = [[Книга: "%s" - Автор: %s
Створи детальні X-Ray дані для цієї книги. Заповни JSON формат нижче ПОВНІСТЮ.

ПРАВИЛА:
1. Не відхиляйся від JSON формату.
2. Поле "author_bio" ОБОВ'ЯЗКОВЕ; напиши 2-3 речення про автора.
3. ПЕРСОНАЖІ: Перелічи мінімум 15-20 персонажів (головні та другорядні герої).
4. ІСТОРИЧНІ ОСОБИСТОСТІ: Знайди РЕАЛЬНИХ історичних особистостей, згаданих у книзі або які впливали на епоху. Якщо таких немає, не залишай порожнім; додай правителя/лідера епохи як "Історичну фігуру епохи".
5. ДЕТАЛІ: Ніколи не залишай поля "importance_in_book" та "context_in_book" порожніми. Проаналізуй контекст у книзі.

ОБОВ'ЯЗКОВИЙ JSON ФОРМАТ:
{
  "book_title": "Назва книги",
  "author": "Ім'я автора",
  "author_bio": "Детальна інформація про життя автора та його літературну особистість (Обов'язково)",
  "summary": "Повний зміст книги (Огляд без спойлерів)",
  "characters": [
    {
      "name": "Ім'я персонажа",
      "role": "Головний герой / Другорядний персонаж / Антагоніст",
      "gender": "Чоловічий / Жіночий / Невизначений",
      "occupation": "Професія або статус",
      "description": "Детальний аналіз та риси характеру персонажа"
    }
  ],
  "historical_figures": [
    {
      "name": "Ім'я історичної особистості",
      "role": "Роль у реальній історії (напр., Імператор, Філософ)",
      "biography": "Коротка біографія",
      "importance_in_book": "Яка важливість цієї людини в книзі? Чому вона згадується?",
      "context_in_book": "Як персонажі згадують цю людину? В якому контексті вона з'являється?"
    }
  ],
  "locations": [
    {"name": "Назва місця", "description": "Опис місця", "importance": "Значення в історії"}
  ],
  "themes": ["Тема 1", "Тема 2", "Тема 3", "Тема 4", "Тема 5"],
  "timeline": [
    {"event": "Назва події", "chapter": "Відповідний розділ/частина", "importance": "Значення події"}
  ]
}]],

    -- Spoiler-free prompt (Based on reading progress)
    spoiler_free = [[Книга: "%s" - Автор: %s
КРИТИЧНО ВАЖЛИВО: Читач прочитав %d%% цієї книги. Створи X-Ray дані ТІЛЬКИ для змісту до цієї точки читання.

ПРАВИЛА ЗАПОБІГАННЯ СПОЙЛЕРАМ:
1. НЕ включай персонажів, які з'являються ПІСЛЯ цієї точки читання
2. НЕ згадуй події сюжету, які відбуваються ПІСЛЯ цієї точки
3. НЕ розкривай розвиток персонажів, який відбувається пізніше в книзі
4. Події хронології повинні охоплювати ТІЛЬКИ те, що читач вже прочитав
5. Описи персонажів повинні відображати їх поточний стан, а не пізніші зміни
6. Короткий зміст повинен охоплювати ТІЛЬКИ події, які читач вже пережив

ДОДАТКОВІ ПРАВИЛА:
1. Біографія автора обов'язкова (вона ніколи не містить спойлерів)
2. Історичні особистості можуть бути включені, якщо вони згадуються у вже прочитаній частині
3. Локації повинні бути лише ті, які були відвідані/згадані до цього часу
4. Теми повинні відображати те, що очевидно в історії до цього моменту

ОБОВ'ЯЗКОВИЙ JSON ФОРМАТ:
{
  "book_title": "Назва книги",
  "author": "Ім'я автора",
  "author_bio": "Детальна інформація про життя автора та його літературну особистість (Обов'язково)",
  "summary": "Короткий зміст, що охоплює ТІЛЬКИ те, що читач прочитав до цього часу",
  "characters": [
    {
      "name": "Ім'я персонажа (тільки якщо вже представлений)",
      "role": "Головний герой / Другорядний персонаж / Антагоніст",
      "gender": "Чоловічий / Жіночий / Невизначений",
      "occupation": "Професія або статус",
      "description": "Стан персонажа на поточний момент читання - НЕ розкривай пізніші події"
    }
  ],
  "historical_figures": [
    {
      "name": "Ім'я історичної особистості",
      "role": "Роль у реальній історії",
      "biography": "Коротка біографія",
      "importance_in_book": "Їх значимість до поточної точки читання",
      "context_in_book": "Як вони згадуються у вже прочитаній частині"
    }
  ],
  "locations": [
    {"name": "Назва місця (тільки якщо вже відвідано/згадано)", "description": "Опис", "importance": "Значення до цього моменту"}
  ],
  "themes": ["Тільки теми, очевидні в історії до цього часу"],
  "timeline": [
    {"event": "Назва події (ТІЛЬКИ події, що відбулися)", "chapter": "Відповідний розділ/частина", "importance": "Значення"}
  ]
}]],

    -- Fallback strings
    fallback = {
        unknown_book = "Невідома книга",
        unknown_author = "Невідомий автор",
        unnamed_character = "Безіменний персонаж",
        not_specified = "Не вказано",
        no_description = "Опис відсутній",
        unnamed_person = "Безіменна особистість",
        no_biography = "Біографія недоступна"
    }
}

